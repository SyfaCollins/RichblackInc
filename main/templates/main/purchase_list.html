{% extends 'main/base.html' %}

{% block content %}
<h1>Purchases</h1>

<form method="get" class="form-inline mb-3">
    <div class="form-group mr-2">
        {{ form.start_date.label_tag }} {{ form.start_date }}
    </div>
    <div class="form-group mr-2">
        {{ form.end_date.label_tag }} {{ form.end_date }}
    </div>
    <div class="form-group mr-2">
        {{ form.supplier.label_tag }} {{ form.supplier }}
    </div>
    <button type="submit" class="btn btn-primary">Filter</button>
</form>

<a href="{% url 'purchase_create' %}" class="btn btn-primary mb-3">Add Purchase</a>

<table class="table table-striped">
    <thead>
        <tr>
            <th>ID</th>
            <th>Date</th>
            <th>Supplier</th>
            <th>Total Amount</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for purchase in purchases %}
        <tr>
            <td>{{ purchase.id }}</td>
            <td>{{ purchase.date }}</td>
            <td>{{ purchase.supplier }}</td>
            <td>{{ purchase.total_amount }}</td>
            <td>
                <a href="{% url 'purchase_detail' purchase.id %}" class="btn btn-info">View</a>
                <a href="{% url 'purchase_delete' purchase.id %}" class="btn btn-danger">Delete</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
